
@model IEnumerable<EmprestimosModel>

<div class="container-sm container-fluid">

    <div class="d-flex justify-content-between align-items-center mb-5">
        <h1>Empréstimos</h1>
        <div>
            <a type="button" class="btn mx-2 btn-success" asp-controller="Emprestimo" asp-action="ExportarEmprestimo"><i class="bi bi-file-earmark-plus mx-1"></i>EXPORTAR</a>
            <a type="button" class="btn mx-2 btn-success" asp-controller="Emprestimo" asp-action="CadastrarEmprestimo"><i class="bi bi-file-earmark-plus mx-1"></i>CADASTRAR NOVO EMPRÉSTIMO</a>
        </div>
    </div>
     
    @if (TempData["MensagemSucesso"] != null)
    {
       <div id="modalAlert" class=" alert alert-success text-light" role="alert">
          @TempData["MensagemSucesso"]
       </div>
    }

    <div class="table-responsive">

        <table id="tabEmprestimos" class="table table-hover table-dark table-striped ">
            <thead>
                <tr>
                    <th scope="col">Recebedor</th>
                    <th scope="col">Fornecedor</th>
                    <th scope="col">Equipamento</th>
                    <th scope="col">Última atualização</th>
                    <th scope="col"> </th>
                </tr>
            </thead>

            <tbody>
              @*   //vamos iterar os itens que tiver cadastrados no banco aqui. *@

                @if (Model != null)
                {
                    @foreach (var emprestimo in Model)
                    {
                        <tr>
                            <th scope="row">@emprestimo.Recebedor</th>
                            <td>@emprestimo.Fornecedor</td>
                            <td>@emprestimo.EquipamentoEmprestado</td>
                            <td>@emprestimo.dataUltimaAtualizacao</td>
                            <td>
                                <a class="btn btn-warning mx-2" asp-controller="Emprestimo" asp-route-id="@emprestimo.Id" asp-action="EditarEmprestimo"><i class="bi bi-pencil-square mx-1"></i>Editar</a>

                                <a class="btn btn-danger mx-2" asp-controller="Emprestimo" asp-route-id="@emprestimo.Id" asp-action="ExcluirEmprestimo"><i class="bi bi-trash3  mx-1"></i>Excluir</a>
                            </td>
                        </tr>
                    }
                }

            </tbody>
        </table>

    </div>
</div>